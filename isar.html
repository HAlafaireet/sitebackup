<!DOCTYPE html>
<html>
  <!-- include A-Frame obviously -->
<script src="https://aframe.io/releases/0.8.0/aframe.min.js"></script>
<!-- include ar.js for A-Frame -->
<script src="https://jeromeetienne.github.io/AR.js/aframe/build/aframe-ar.js"></script>

<script src="https://cdn.rawgit.com/elbobo/aframe-multisrc-component/b6d23310/dist/0.3/aframe-multisrc-component.js"></script>

<script>

</script>

<script>
  AFRAME.registerComponent('window', {
      init: function () {
          this.el.addEventListener('click', function (evt) {
              this.emit('fuse_window');
              console.log('Fuse Window was clicked at: ', evt.detail.intersection.point);
      });
          
      }
    });
  </script>

<script>
  AFRAME.registerComponent('checker', {
      init: function () {
        console.log('animation activated'); 
      }
    });
  </script>

<body style='margin : 0px; overflow: hidden;'>
  <a-scene embedded arjs>

      <a-assets>
          <img id="front" src="/Assets/IS_Assets/TransparentWeather_day.jpg">
          <img id="back" src="/Assets/IS_Assets/TransparentWeather_night.jpg">
        </a-assets>
     
    <a-box class='window' window position='0 0 0' material='opacity: 0.75;' scale="1 1 0" rotation= "-90 0 0" multisrc="src4:#front;src5:#back">
      <a-animation attribute="rotation"
               dur="1000"
               to="90 0 0"
               easing="linear"
               direction="alternate"
               begin="fuse_window"
               >
            </a-animation>
      </a-box>
    <!-- define a camera which will move according to the marker position -->
    <a-marker-camera cursor="rayOrigin: mouse" preset='hiro'></a-marker-camera>
    <!--<a-entity gearvr-controls></a-entity>-->
    
  </a-scene>
</body>
</html>
